@model PagedList.IPagedList<NDHSITE.Models.BarcodeNotPermiss>
@using PagedList.Mvc;

@{
    ViewBag.Title = "Danh sách barcode không được tham gia chương trình";
}

<div class="page-header">
    <h3 class="page-title">Quản lý barcode</h3>

    <ol class="breadcrumb">
        <li><a href="/home">Trang chủ</a></li>
        <li><a href="#">Quản lý barcode</a></li>
    </ol>
</div> <!-- /.page-header -->

<p class="">Danh sách các barcode không được tham gia chương trình.</p>

<form method="post" enctype="multipart/form-data" onsubmit="if(!confirm('Cập nhật barcode ?')){return false;}">
    <div class="row">

        <div class="col-sm-6">
            <div class="form-group">
                <label>Chọn chi nhánh</label>
                <select class="form-control selectpicker" name="branchId" data-live-search="true">
                    @foreach (var item in ViewBag.Branch)
                    {
                        <option data-tokens="@item.Name" value="@item.Id">@item.Name</option>
                    }
                </select>
            </div>

        </div>

        <div class="col-sm-6">
            <div class="form-group">
                <label>Danh sách mã barcode</label>
                <input type="file" accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" class="form-control" name="files" required />
            </div>
            <a href="~/haiupload/barcode-not-permiss.xlsx">Tải template</a>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-2">
            <div class="form-group">
                <button class="btn btn-primary" type="submit">Cập nhật</button>
            </div>
        </div>
    </div>
</form>

<div class="portlet portlet-boxed">
    <div class="portlet-header">
        <h4 class="portlet-title">
            Danh sách barcode không được tham gia chương trình
        </h4>
    </div> <!-- /.portlet-header -->
    <div class="portlet-body">
        <form method="get">
            <div class="row">
                <div class="col-sm-6">
                    <input type="text" name="barcode" class="form-control" value="@ViewBag.Barcode"/>
                </div>
                <div class="col-sm-2">
                    <button type="submit" class="btn btn-primary">Tìm</button>
                </div>
            </div>
        </form>
        <br />
        <table class="table table-striped table-bordered thumbnail-table">
            <thead>
                <tr>
                    <th>Mã barcode</th>
                    <th>Tên sản phẩm</th>
                    <th>Ngày tạo</th>
                    <th>Người cập nhật</th>
                    <th>Ghi chú</th>
                    <th>Chi nhánh</th>
                    <th>#</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@item.Barcode</td>
                        <td>@item.ProductName</td>
                        <td>@item.CreateTime</td>
                        <td>@item.UserUpload</td>
                        <td>@item.Notes</td>
                        <td>@item.BranchCode</td>
                        <td><a href="/barcode/DeleteBarcodeNotPermiss?barcode=@item.Barcode">xóa</a></td>
                    </tr>
                }
            </tbody>
        </table>
        <br />
        <br />
        Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) of @Model.PageCount
        @Html.PagedListPager(Model, page => Url.Action("BarcodeNotPermiss",
                              new { page, barcode = ViewBag.Barcode }))
    </div>
</div>

@section styles {

    <!-- bootstrap select-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.11.0/css/bootstrap-select.min.css">
}
@section scripts {

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.11.0/js/bootstrap-select.min.js"></script>
}
